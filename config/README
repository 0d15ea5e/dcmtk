The config Directory
====================

The config directory includes configuration files for the OFFIS "dcmtk" 
(DICOM Toolkit ) The configuration mechanism uses the GNU autoconf / configure
facilities.

Recommended project directory structure:
========================================

dcmtk
    config
        include
        templates
    module1
        libsrc          # Library sources
        include         # include Directory
        apps            # Application programs
        tests           # Test programs
        docs            # documentation
    module2
    ...

templates directory:
====================

If you use this structure, copy from the templates directory
    Makefile.mod -> dcmtk/moduleX/Makefile.in
    configure.mod -> dcmtk/moduleX/configure

They can be used without any changes if you are using the complete structure.

There are more files in the template directory:
    Makefile.lib:   Sample Makefile.in for libraries in libsrc
    Makefile.src:   Sample Makefile.in for applications in apps, tests


include directory:
==================

The config/include directory contains OS specific configuration files for the
dcmtk parts. The file "config.h.in" is created from "configure.in" by using 
"autoheader" of the GNU autoconf system. To create a new config.h.in  you must 
start mkheader in the configuration directory. This file is converted by 
"configure" into config.h. 

Your sources (.h, .c, .cc) must contain as first #include statement (before 
everything else is defined):
    #include "osconfig.h"

osconfig.h contains several #includes that depend on the compiler. On systems
using the GNU configure facilities, config.h is included. 
Do not include config.h directly.

Additionally this directory may contain different files for OS and/or compiler
specific configurations.
 
Programs in config/:
====================

The configuration directory contains the following programs:

    mkheader        creates "config.h.in" from configure.in and acconfig.h
    mkinstalldirs   creates recursive directories, used for installations
                    in Makefiles
    install-sh      BSD compatible install script, used in Makefiles
    rootconf        create Makefile and configure script for the root
                    directory in dcmtk.
    configure       main configure script created by "autoconf". Do not start
                    it in the configuration directory.

In every module's main directory  the configure script from the templates 
directory must be present. To configure the module, start this one or the 
configure script in the root dcmtk directory.

To create the configure script in the configuration directory you must call 
autoconf. This will produce a warning you can ignore.

To configure "autoconf" and "mkheader" you must edit
    configure.in    to test the configuration
    acconfig.h      to define parts in config.h.in
    aclocal.m4      to define new tests for configure.

Do not edit these files if you not really know what you do. Consult the
autoconf manual (in emacs and on paper).

Have Fun!