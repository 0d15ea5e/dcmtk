
NAME

   storescp

SYNOPSIS

   storescp [options] port

SUMMARY

The storescp application implements a Service Class Provider (SCP) for the
Storage Service Class.  It listens on a specific TCP/IP port for incoming
association requests from a Storage SCU and can receive images according to
the Storage Service Class. Received images will normally be stored in files
(within the current working directory).  The storescp application also
supports the Verification Service Class as an SCP.

USAGE

storescp: DICOM storage (C-STORE) SCP
usage: storescp [options] port

parameters:
  port                           tcp/ip port number to listen on

general options:
  -h      --help                 print this help text and exit
  -v      --verbose              verbose mode, print processing details
  -d      --debug                debug mode, print debug information
network options:
  preferred network transfer syntaxes:
    +x=   --prefer-uncompr       prefer explicit VR local byte order (default)
    +xe   --prefer-little        prefer explicit VR little endian TS
    +xb   --prefer-big           prefer explicit VR big endian TS
    +xs   --prefer-lossless      prefer default JPEG lossless TS
    +xy   --prefer-jpeg8         prefer default JPEG lossy TS for 8 bit data
    +xx   --prefer-jpeg12        prefer default JPEG lossy TS for 12 bit data
    +xr   --prefer-rle           prefer RLE lossless TS
    +xi   --implicit             accept implicit VR little endian TS only
  other network options:
    -aet  --aetitle              aetitle: string
                                 set my AE title (default: STORESCP)
    -pdu  --max-pdu              [n]umber of bytes: integer [4096..131072]
                                 set max receive pdu to n bytes (default: 16384)
    -dhl  --disable-host-lookup  disable hostname lookup
          --refuse               refuse association
          --reject               reject association if no implement. class UID
          --ignore               ignore store data, receive but do not store
          --sleep-after          [s]econds: integer
                                 sleep s seconds after store (default: 0)
          --sleep-during         [s]econds: integer
                                 sleep s seconds during store (default: 0)
          --abort-after          abort association after receipt of C-STORE-RQ
                                 (but before sending response)
          --abort-during         abort association during receipt of C-STORE-RQ
output options:
  bit preserving mode:
    -B    --normal               allow implicit format conversions (default)
    +B    --bit-preserving       write data exactly as read
  output file format:
    +F    --write-file           write file format (default)
    -F    --write-dataset        write data set without file meta information
  output transfer syntax (not with --bit-preserving or compressed transmission):
    +t=   --write-xfer-same      write with same TS as input (default)
    +te   --write-xfer-little    write with explicit VR little endian TS
    +tb   --write-xfer-big       write with explicit VR big endian TS
    +ti   --write-xfer-implicit  write with implicit VR little endian TS
  post-1993 value representations (not with --bit-preserving):
    +u    --enable-new-vr        enable support for new VRs (UN/UT) (default)
    -u    --disable-new-vr       disable support for new VRs, convert to OB
  group length encoding (not with --bit-preserving):
    +g=   --group-length-recalc  recalculate group lengths if present (default)
    +g    --group-length-create  always write with group length elements
    -g    --group-length-remove  always write without group length elements
  length encoding in sequences and items (not with --bit-preserving):
    +e    --length-explicit      write with explicit lengths (default)
    -e    --length-undefined     write with undefined lengths
  data set trailing padding (not with --write-dataset or --bit-preserving):
    -p    --padding-off          no padding (default)
    +p    --padding-create       [f]ile-pad [i]tem-pad: integer
                                 align file on multiple of f bytes
                                 and items on multiple of i bytes
transport layer security (TLS) options:
  transport protocol stack options:
    -tls  --disable-tls          use normal TCP/IP connection (default)
    +tls  --enable-tls           [p]rivate key file, [c]ertificate file: string
                                 use authenticated secure TLS connection
  private key password options (only with --enable-tls):
    +ps   --std-passwd           prompt user to type password on stdin (default)
    +pw   --use-passwd           [p]assword: string
                                 use specified password
    -pw   --null-passwd          use empty string as password
  key and certificate file format options:
    -pem  --pem-keys             read keys and certificates as PEM file (default)
    -der  --der-keys             read keys and certificates as DER file
  certification authority options:
    +cf   --add-cert-file        [c]ertificate filename: string
                                 add certificate file to list of certificates
    +cd   --add-cert-dir         [c]ertificate directory: string
                                 add certificates in [d] to list of certificates
  ciphersuite options:
    +cs   --cipher               [c]iphersuite name: string
                                 add ciphersuite to list of negotiated suites
    +dp   --dhparam              [f]ilename: string
                                 read DH parameters for DH/DSS ciphersuites
  pseudo random generator options:
    +rs   --seed                 [f]ilename: string
                                 seed random generator with contents of [f]
    +ws   --write-seed           write back modified seed (only with --seed)
    +wf   --write-seed-file      [f]ilename: string (only with --seed)
                                 write modified seed to file [f]
  peer authentication options:
    -rc   --require-peer-cert    verify peer certificate, fail if absent (default)
    -vc   --verify-peer-cert     verify peer certificate if present
    -ic   --ignore-peer-cert     don't verify peer certificate


DICOM CONFORMANCE

The storescp application supports the following SOP Classes
as an SCP:

    VerificationSOPClass                                "1.2.840.10008.1.1"

    StoredPrintStorage                                  "1.2.840.10008.5.1.1.27"
    HardcopyGrayscaleImageStorage                       "1.2.840.10008.5.1.1.29"
    HardcopyColorImageStorage                           "1.2.840.10008.5.1.1.30"
    ComputedRadiographyImageStorage                     "1.2.840.10008.5.1.4.1.1.1"
    DigitalXRayImageStorageForPresentation              "1.2.840.10008.5.1.4.1.1.1.1"
    DigitalXRayImageStorageForProcessing                "1.2.840.10008.5.1.4.1.1.1.1.1"
    DigitalMammographyXRayImageStorageForPresentation   "1.2.840.10008.5.1.4.1.1.1.2"
    DigitalMammographyXRayImageStorageForProcessing     "1.2.840.10008.5.1.4.1.1.1.2.1"
    DigitalIntraOralXRayImageStorageForPresentation     "1.2.840.10008.5.1.4.1.1.1.3"
    DigitalIntraOralXRayImageStorageForProcessing       "1.2.840.10008.5.1.4.1.1.1.3.1"
    StandaloneModalityLUTStorage                        "1.2.840.10008.5.1.4.1.1.10"
    StandaloneVOILUTStorage                             "1.2.840.10008.5.1.4.1.1.11"
    GrayscaleSoftcopyPresentationStateStorage           "1.2.840.10008.5.1.4.1.1.11.1"
    XRayAngiographicImageStorage                        "1.2.840.10008.5.1.4.1.1.12.1"
    XRayFluoroscopyImageStorage                         "1.2.840.10008.5.1.4.1.1.12.2"
    RETIRED_XRayAngiographicBiPlaneImageStorage         "1.2.840.10008.5.1.4.1.1.12.3"
    PETImageStorage                                     "1.2.840.10008.5.1.4.1.1.128"
    PETCurveStorage                                     "1.2.840.10008.5.1.4.1.1.129"
    CTImageStorage                                      "1.2.840.10008.5.1.4.1.1.2"
    NuclearMedicineImageStorage                         "1.2.840.10008.5.1.4.1.1.20"
    RETIRED_UltrasoundMultiframeImageStorage            "1.2.840.10008.5.1.4.1.1.3"
    UltrasoundMultiframeImageStorage                    "1.2.840.10008.5.1.4.1.1.3.1"
    MRImageStorage                                      "1.2.840.10008.5.1.4.1.1.4"
    RTImageStorage                                      "1.2.840.10008.5.1.4.1.1.481.1"
    RTDoseStorage                                       "1.2.840.10008.5.1.4.1.1.481.2"
    RTStructureSetStorage                               "1.2.840.10008.5.1.4.1.1.481.3"
    RTBeamsTreatmentRecordStorage                       "1.2.840.10008.5.1.4.1.1.481.4"
    RTPlanStorage                                       "1.2.840.10008.5.1.4.1.1.481.5"
    RTBrachyTreatmentRecordStorage                      "1.2.840.10008.5.1.4.1.1.481.6"
    RTTreatmentSummaryRecordStorage                     "1.2.840.10008.5.1.4.1.1.481.7"
    RETIRED_NuclearMedicineImageStorage                 "1.2.840.10008.5.1.4.1.1.5"
    RETIRED_UltrasoundImageStorage                      "1.2.840.10008.5.1.4.1.1.6"
    UltrasoundImageStorage                              "1.2.840.10008.5.1.4.1.1.6.1"
    SecondaryCaptureImageStorage                        "1.2.840.10008.5.1.4.1.1.7"
    MultiframeSingleBitSecondaryCaptureImageStorage     "1.2.840.10008.5.1.4.1.1.7.1"
    MultiframeGrayscaleByteSecondaryCaptureImageStorage "1.2.840.10008.5.1.4.1.1.7.2"
    MultiframeGrayscaleWordSecondaryCaptureImageStorage "1.2.840.10008.5.1.4.1.1.7.3"
    MultiframeTrueColorSecondaryCaptureImageStorage     "1.2.840.10008.5.1.4.1.1.7.4"
    RETIRED_VLImageStorage                              "1.2.840.10008.5.1.4.1.1.77.1"
    VLEndoscopicImageStorage                            "1.2.840.10008.5.1.4.1.1.77.1.1"
    VLMicroscopicImageStorage                           "1.2.840.10008.5.1.4.1.1.77.1.2"
    VLSlideCoordinatesMicroscopicImageStorage           "1.2.840.10008.5.1.4.1.1.77.1.3"
    VLPhotographicImageStorage                          "1.2.840.10008.5.1.4.1.1.77.1.4"
    RETIRED_VLMultiFrameImageStorage                    "1.2.840.10008.5.1.4.1.1.77.2"
    StandaloneOverlayStorage                            "1.2.840.10008.5.1.4.1.1.8"
    BasicTextSR                                         "1.2.840.10008.5.1.4.1.1.88.11"
    EnhancedSR                                          "1.2.840.10008.5.1.4.1.1.88.22"
    ComprehensiveSR                                     "1.2.840.10008.5.1.4.1.1.88.33"
    MammographyCADSR                                    "1.2.840.10008.5.1.4.1.1.88.50"
    KeyObjectSelectionDocument                          "1.2.840.10008.5.1.4.1.1.88.59"
    StandaloneCurveStorage                              "1.2.840.10008.5.1.4.1.1.9"
    TwelveLeadECGWaveformStorage                        "1.2.840.10008.5.1.4.1.1.9.1.1"
    GeneralECGWaveformStorage                           "1.2.840.10008.5.1.4.1.1.9.1.2"
    AmbulatoryECGWaveformStorage                        "1.2.840.10008.5.1.4.1.1.9.1.3"
    HemodynamicWaveformStorage                          "1.2.840.10008.5.1.4.1.1.9.2.1"
    CardiacElectrophysiologyWaveformStorage             "1.2.840.10008.5.1.4.1.1.9.3.1"
    BasicVoiceAudioWaveformStorage                      "1.2.840.10008.5.1.4.1.1.9.4.1"

Experimental support for the following draft SOP classes is also provided as SCP:

    DRAFT_SRTextStorage                                 "1.2.840.10008.5.1.4.1.1.88.1"
    DRAFT_SRAudioStorage                                "1.2.840.10008.5.1.4.1.1.88.2"
    DRAFT_SRDetailStorage                               "1.2.840.10008.5.1.4.1.1.88.3"
    DRAFT_SRComprehensiveStorage                        "1.2.840.10008.5.1.4.1.1.88.4"
    DRAFT_WaveformStorage                               "1.2.840.10008.5.1.4.1.1.9.1"

The storescp application will accept presentation contexts for
all of the abovementioned supported SOP Classes using any
of the transfer syntaxes:

    LittleEndianImplicitTransferSyntax                  "1.2.840.10008.1.2"
    LittleEndianExplicitTransferSyntax                  "1.2.840.10008.1.2.1"
    BigEndianExplicitTransferSyntax                     "1.2.840.10008.1.2.2"

The default behaviour of the storescp application is to prefer transfer
syntaxes having an explicit encoding over the default implicit transfer syntax.
If storescp is running on big-endian hardware it will prefer
BigEndianExplicitTransferSyntax to LittleEndianExplicitTransferSyntax (and vice
versa). This behaviour can be changed with the --prefer options
(see above).

The storescp application does not support extended negotiation.

ENVIRONMENT

The storescp application will attempt to load DICOM data dictionaries
specified in the DCMDICTPATH environment variable.  By default, if the
DCMDICTPATH environment variable is not set, the file
/usr/local/dicom/lib/dicom.dic will be loaded.  The default behaviour
should be preferred and the DCMDICTPATH environment variable only used when
alternative data dictionaries are required.  The DCMDICTPATH environment
variable has the same format as the shell PATH variable in that a colon
(":") separates entries.  The data dictionary code will attempt to load
each file specified in the DCMDICTPATH environment variable.  It is an
error if no data dictionary can be loaded.

